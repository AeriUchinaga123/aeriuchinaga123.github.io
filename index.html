<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Valorant Themed Portfolio</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

  :root{
    --red:#ff4655; --bg:#0a111a;
    --entry:1100ms; --exit:1000ms; --delay-content:650ms;
    --card-w: 200px; --card-h: 300px;
  }

  html,body{height:100%}
  body{
    margin:0; padding:0; font-family:'Orbitron',sans-serif;
    background:var(--bg); color:#fff; overflow-x:hidden;
    display:flex; align-items:center; justify-content:center;
  }
  body::before{
    content:""; position:fixed; inset:-40%;
    background:
      radial-gradient(circle at 20% 20%, #ff4655cc, transparent 60%),
      radial-gradient(circle at 70% 85%, #ff829acc, transparent 50%);
    filter:blur(120px); animation:slowPulse 25s ease-in-out infinite;
    z-index:-2; opacity:.3;
  }
  @keyframes slowPulse{0%,100%{opacity:.3;transform:scale(1) rotate(0)}50%{opacity:.5;transform:scale(1.05) rotate(8deg)}}

  .main-container{
    text-align:center; max-width:900px; padding:20px;
    background:rgba(21,33,44,.85); border-radius:20px;
    box-shadow:0 0 40px #ff4655bb; user-select:text;
    opacity:0; transform:translateY(10px) scale(.988);
    animation:contentIn 780ms cubic-bezier(.22,.61,.36,1) forwards;
    animation-delay:var(--delay-content);
  }
  @keyframes contentIn{to{opacity:1; transform:translateY(0) scale(1)}}
  h1{font-size:3.2rem;margin:0 0 10px;color:var(--red);text-shadow:0 0 15px #ff4655aa}
  h2{font-weight:500;margin:0 0 22px;text-shadow:0 0 10px #ff829a99;font-size:1.3rem}

  /* ===== Fixed-center viewer ===== */
  .viewer{
    display:flex; align-items:center; justify-content:center; gap:18px;
    margin:12px auto 10px;
  }
  .arrow{
    width:44px; height:44px; border-radius:50%; border:2px solid var(--red);
    display:grid; place-items:center; cursor:pointer; user-select:none;
    box-shadow:0 0 12px #ff465588; transition:transform .12s ease, background .25s ease;
    background:transparent; color:var(--red);
  }
  .arrow:hover{background:var(--red); color:#1c2733}
  .arrow:active{transform:scale(.96)}
  .arrow span{font-size:20px; line-height:1}

  .stage{
    width:min(var(--card-w), 70vw); height:min(var(--card-h), 65vh);
    position:relative;
    display:grid; place-items:center;
  }
  .card{
    width:100%; height:100%;
    border-radius:16px; overflow:hidden; background:#1c2733;
    border:3px solid transparent; display:flex; align-items:center; justify-content:center;
    box-shadow:0 0 20px #ff465566;
    transition: box-shadow .28s ease, border-color .28s ease, transform .28s ease, filter .28s ease;
    will-change: transform, filter;
  }
  .card img{
    height:90%; width:auto; object-fit:contain; pointer-events:none;
    filter:drop-shadow(0 0 6px #ff4655cc);
    transition: filter .28s ease, opacity .28s ease;
  }
  .card:hover{transform:scale(1.03); box-shadow:0 0 40px #ff829aee; border-color:#ff829a}
  .card:hover img{filter:drop-shadow(0 0 14px #ff829aee)}

  /* Fade/zoom swap (smoother/eased) */
  .swap-out{animation:fadeOutZoom .33s ease-in forwards}
  .swap-in{animation:fadeInZoom .36s ease-out forwards}
  @keyframes fadeOutZoom{to{opacity:0; transform:scale(.94)}}
  @keyframes fadeInZoom{from{opacity:0; transform:scale(1.05)} to{opacity:1; transform:scale(1)}}

  .caption{
    margin-top:12px; font-size:1.05rem; color:#ddd; text-shadow:0 0 5px #000;
    min-height:1.2em; transition: opacity .28s ease;
  }

  footer{margin-top:24px; font-size:.9rem; color:#aaa; text-align:center; user-select:none}

  @media (min-width:640px){
    :root{--card-w: 240px; --card-h: 340px;}
  }
  @media (min-width:900px){
    :root{--card-w: 280px; --card-h: 400px;}
  }

  /* ===== Map-Reveal Transition (same visuals, smoother sync) ===== */
  .reveal{position:fixed; inset:0; pointer-events:none; z-index:9999; display:grid; place-items:center}
  .title-card{
    position:absolute; z-index:5; padding:15px 35px; border:3px solid var(--red); color:#fff; font-size:2rem;
    text-transform:uppercase; letter-spacing:4px; background:rgba(0,0,0,.65); backdrop-filter:blur(4px);
    clip-path:polygon(0 0, 95% 0, 100% 30%, 100% 100%, 5% 100%, 0 70%);
    box-shadow:0 0 20px var(--red), inset 0 0 10px var(--red); text-shadow:0 0 8px #fff, 0 0 20px var(--red);
    opacity:0; animation:titleFlicker 2.1s ease forwards; animation-delay:.05s; overflow:hidden;
  }
  .title-card::after{content:"";position:absolute;top:0;left:-100%;width:200%;height:100%;
    background:linear-gradient(120deg,transparent 0%,rgba(255,255,255,.4) 50%,transparent 100%);
    animation:shine 1.3s ease forwards; animation-delay:.15s;}
  @keyframes shine{to{left:100%}}
  @keyframes titleFlicker{0%,10%,20%,30%,50%,70%,90%{opacity:.8}5%,15%,25%,40%,60%,80%{opacity:1}100%{opacity:0}}
  .slash,.slash2{position:absolute; inset:-10% -10%; transform:skewX(-18deg) translateX(0);
    background:linear-gradient(90deg,var(--red) 0%,#ff829a 35%,#ffffff 50%,#1c2733 70%,var(--bg) 100%); filter:drop-shadow(0 0 10px #ff4655aa)}
  .slash{clip-path:polygon(-20% 0,50% 0,60% 100%,-20% 100%)}
  .slash2{clip-path:polygon(-35% 0,35% 0,45% 100%,-35% 100%); opacity:.8}
  .reveal.entry .slash{animation:entrySweep var(--entry) cubic-bezier(.2,.65,.25,1) forwards; animation-delay:.3s}
  .reveal.entry .slash2{animation:entrySweep2 calc(var(--entry)*.94) cubic-bezier(.2,.65,.25,1) forwards; animation-delay:.3s}
  @keyframes entrySweep{0%{transform:skewX(-18deg) translateX(0)}60%{translate:30%}100%{transform:skewX(-18deg) translateX(120%)}}
  @keyframes entrySweep2{0%{transform:skewX(-18deg) translateX(-5%)}60%{translate:25%}100%{transform:skewX(-18deg) translateX(110%)}}
  .reveal::after{content:"";position:absolute; inset:0; background:
    radial-gradient(ellipse at center,transparent 50%,rgba(0,0,0,.55) 100%),
    repeating-linear-gradient(0deg,rgba(255,255,255,.03) 0 1px, transparent 1px 2px);
    opacity:0; animation:revealVignette var(--entry) ease-in-out forwards; animation-delay:.05s}
  @keyframes revealVignette{40%{opacity:1}100%{opacity:0}}
</style>
</head>
<body>

  <!-- MAP REVEAL OVERLAY -->
  <div class="reveal entry" aria-hidden="true">
    <div class="title-card">Welcome</div>
    <div class="slash"></div><div class="slash2"></div>
  </div>

  <div class="main-container" role="main" aria-label="Valorant themed">
    <h1>Welcome</h1>
    <h2>Use arrows or swipe. Click center image to open.</h2>

    <!-- Fixed center viewer -->
    <div class="viewer">
      <button class="arrow" id="prev" aria-label="Previous"><span>❮</span></button>

      <div class="stage">
        <a class="card swap-in" id="card" href="about.html" aria-label="Open section">
          <img id="cardImg" src="https://static.wikia.nocookie.net/valorant-lore/images/c/c9/VALORANT_Chamber_Card_-_Large.png" alt="Agent Chamber - About"/>
        </a>
      </div>

      <button class="arrow" id="next" aria-label="Next"><span>❯</span></button>
    </div>

    <div class="caption" id="caption">About Me</div>

    <footer>Valorant themed portfolio © 2025 | Created For Compilation</footer>
  </div>

<script>
  // Remove entry overlay after animation
  const reveal = document.querySelector('.reveal');
  setTimeout(()=>reveal?.remove(), 1700);

  // Sections data (order of rotation)
  const sections = [
    {
      href:'about.html',
      caption:'About Me',
      img:'https://static.wikia.nocookie.net/valorant-lore/images/c/c9/VALORANT_Chamber_Card_-_Large.png',
      alt:'Agent Chamber - About'
    },
    {
      href:'hobbies.html',
      caption:'My Hobbies',
      img:'https://valorantinfo.gg/wp-content/uploads/2021/10/valorant-yoru-player-card.jpg',
      alt:'Agent Yoru - Hobbies'
    },
    {
      href:'quiz.html',
      caption:'Contact Me',
      img:'https://pbs.twimg.com/media/F80E1PhWoAAQV4i.png',
      alt:'Agent Iso - Contact'
    }
  ];

  let index = 0;
  const card = document.getElementById('card');
  const img = document.getElementById('cardImg');
  const cap = document.getElementById('caption');

  // smooth swap with caption fade + preload
  function show(i, dir=1){
    // start caption fade out
    cap.style.opacity = 0;

    // animate card out
    card.classList.remove('swap-in'); 
    card.classList.add('swap-out');

    const target = (i + sections.length) % sections.length;
    const next = sections[target];

    // preload next image to avoid flicker
    const pre = new Image();
    pre.onload = () => {
      setTimeout(()=>{
        index = target;
        card.href = next.href;
        img.style.opacity = 0; // fade image itself a touch
        img.src = next.img;
        img.alt = next.alt;
        cap.textContent = next.caption;

        // animate in
        card.classList.remove('swap-out'); 
        void card.offsetWidth; // reflow
        card.classList.add('swap-in');
        // bring caption/image back
        requestAnimationFrame(()=>{
          cap.style.opacity = 1;
          img.style.opacity = 1;
        });
      }, 230); // sync to fadeOutZoom
    };
    pre.onerror = () => {
      // fallback if preload fails
      setTimeout(()=>{
        index = target;
        card.href = next.href;
        img.src = next.img;
        img.alt = next.alt;
        cap.textContent = next.caption;

        card.classList.remove('swap-out'); 
        void card.offsetWidth;
        card.classList.add('swap-in');
        cap.style.opacity = 1;
      }, 230);
    };
    pre.src = next.img;
  }

  document.getElementById('prev').addEventListener('click', ()=>show(index-1,-1));
  document.getElementById('next').addEventListener('click', ()=>show(index+1,1));

  // Keyboard navigation
  window.addEventListener('keydown', (e)=>{
    if(e.key === 'ArrowLeft') show(index-1,-1);
    if(e.key === 'ArrowRight') show(index+1,1);
    if(e.key === 'Enter'){ // open current
      playExitThenNavigate(card.href);
    }
  });

  // Touch swipe
  let startX=null;
  document.querySelector('.stage').addEventListener('touchstart', e=>{startX=e.touches[0].clientX},{passive:true});
  document.querySelector('.stage').addEventListener('touchend', e=>{
    if(startX==null) return;
    const dx = e.changedTouches[0].clientX - startX;
    if(Math.abs(dx)>40){ dx<0 ? show(index+1,1) : show(index-1,-1); }
    startX=null;
  });

  // Click center card to navigate with exit transition
  card.addEventListener('click', (e)=>{
    e.preventDefault();
    playExitThenNavigate(card.href);
  });

  function playExitThenNavigate(url){
    const overlay = document.createElement('div');
    overlay.className = 'reveal exit';
    overlay.innerHTML = `<div class="title-card">Welcome</div>
                         <div class="slash"></div><div class="slash2"></div>`;
    document.body.appendChild(overlay);
    setTimeout(()=>{ window.location.href = url; },
      parseInt(getComputedStyle(document.documentElement).getPropertyValue('--exit')) || 1000);
  }
</script>
</body>
</html>
